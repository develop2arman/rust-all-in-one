<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>SMARTPOINTER - Rust-All-In-One(A.R)</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../../rust/RUST.html"><strong aria-hidden="true">1.</strong> RUST</a></li><li class="chapter-item expanded "><a href="../../TEMPLATE.html"><strong aria-hidden="true">2.</strong> TEMPLATE</a></li><li class="chapter-item expanded "><a href="../../shared/SHARED.html"><strong aria-hidden="true">3.</strong> SHARED</a></li><li class="spacer"></li><li class="chapter-item expanded "><a href="../../borrowchecker/BORROWCHECKER.html"><strong aria-hidden="true">4.</strong> BORROWCHECKER</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../borrowchecker/semantic/SEMANTIC.html"><strong aria-hidden="true">4.1.</strong> SEMANTIC</a></li><li class="chapter-item "><a href="../../borrowchecker/lifetime/LIFETIME.html"><strong aria-hidden="true">4.2.</strong> LIFETIME</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../borrowchecker/lifetime/static/LIFETIME_STATIC.html"><strong aria-hidden="true">4.2.1.</strong> STATIC</a></li><li class="chapter-item "><a href="../../borrowchecker/lifetime/elision/LIFETIME_ELISION.html"><strong aria-hidden="true">4.2.2.</strong> ELISION</a></li><li class="chapter-item "><a href="../../borrowchecker/lifetime/dangling/LIFETIME_DANGLING.html"><strong aria-hidden="true">4.2.3.</strong> DANGLING</a></li><li class="chapter-item "><a href="../../borrowchecker/lifetime/generic/LIFETIME_GENERIC.html"><strong aria-hidden="true">4.2.4.</strong> GENERIC</a></li><li class="spacer"></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../benchmark/BENCHMARK.html"><strong aria-hidden="true">5.</strong> BENCHMARK</a></li><li class="spacer"></li><li class="chapter-item expanded "><a href="../../cpu/CPU.html"><strong aria-hidden="true">6.</strong> CPU</a></li><li class="spacer"></li><li class="chapter-item expanded "><a href="../../pointers/POINTERS.html"><strong aria-hidden="true">7.</strong> POINTERS</a></li><li class="chapter-item expanded "><a href="../../pointers/smartpointer/SMARTPOINTER.html" class="active"><strong aria-hidden="true">8.</strong> SMARTPOINTER</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../pointers/smartpointer/compiletime/shared_owner_locally/rc/RC.html"><strong aria-hidden="true">8.1.</strong> RC</a></li><li class="chapter-item "><a href="../../pointers/smartpointer/compiletime/box/BOX.html"><strong aria-hidden="true">8.2.</strong> BOX</a></li><li class="chapter-item "><a href="../../pointers/smartpointer/runtime/shared_locally_mutability/ref-cell/REF_CELL.html"><strong aria-hidden="true">8.3.</strong> REF_CELL</a></li><li class="chapter-item "><a href="../../pointers/smartpointer/ops/OPS.html"><strong aria-hidden="true">8.4.</strong> OPS</a></li><li class="chapter-item "><a href="../../pointers/smartpointer/compiletime/cow/COW.html"><strong aria-hidden="true">8.5.</strong> COW</a></li><li class="chapter-item "><a href="../../thread/sync/arc/ARC.html"><strong aria-hidden="true">8.6.</strong> ARC</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><a href="../../process/PROCESS.html"><strong aria-hidden="true">9.</strong> PROCESS</a></li><li class="spacer"></li><li class="chapter-item expanded "><a href="../../collection/COLLECTION.html"><strong aria-hidden="true">10.</strong> COLLECTION</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../collection/hashmap/HASHMAP.html"><strong aria-hidden="true">10.1.</strong> HASHMAP</a></li><li class="chapter-item "><a href="../../collection/slice/SLICE.html"><strong aria-hidden="true">10.2.</strong> SLICE</a></li><li class="chapter-item "><a href="../../collection/vec/VECTOR.html"><strong aria-hidden="true">10.3.</strong> VECTOR</a></li><li class="chapter-item "><a href="../../pointers/smartpointer/compiletime/shared_owner_locally/rc/linkedlist/LINKEDLIST.html"><strong aria-hidden="true">10.4.</strong> LINKEDLIST</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><a href="../../commandline/COMMANDLINE.html"><strong aria-hidden="true">11.</strong> COMMANDLINE</a></li><li class="spacer"></li><li class="chapter-item expanded "><a href="../../data/DATA.html"><strong aria-hidden="true">12.</strong> DATA</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../data/operator/OPERATOR.html"><strong aria-hidden="true">12.1.</strong> OPERATOR</a></li><li class="chapter-item "><a href="../../data/convert/CONVERT.html"><strong aria-hidden="true">12.2.</strong> CONVERT</a></li><li class="chapter-item "><a href="../../data/io/IO.html"><strong aria-hidden="true">12.3.</strong> IO</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../data/io/file/FILE.html"><strong aria-hidden="true">12.3.1.</strong> FILE</a></li></ol></li><li class="chapter-item "><a href="../../data/regex/REGEX.html"><strong aria-hidden="true">12.4.</strong> REGEX</a></li><li class="chapter-item "><a href="../../data/arithmetic/ARITHMETIC.html"><strong aria-hidden="true">12.5.</strong> ARITHMETIC</a></li><li class="chapter-item "><a href="../../data/serde/SERDE.html"><strong aria-hidden="true">12.6.</strong> SERDE</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><a href="../../duplication/Duplication.html"><strong aria-hidden="true">13.</strong> Duplication</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../duplication/copy-clone/COPY-CLONE.html"><strong aria-hidden="true">13.1.</strong> COPY_CLONE</a></li></ol></li><li class="chapter-item expanded "><a href="../../pointers/smartpointer/compiletime/shared_owner/rc/RC.html"><strong aria-hidden="true">14.</strong> RC</a></li><li class="spacer"></li><li class="chapter-item expanded "><a href="../../errorhandling/ERROR_HANDLING.html"><strong aria-hidden="true">15.</strong> ERROR_HANDLING</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../errorhandling/non-recoverable/ERROR_NONRECOVERABLE.html"><strong aria-hidden="true">15.1.</strong> ERROR_NONRECOVERABLE</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><a href="../../feature/FEATURE.html"><strong aria-hidden="true">16.</strong> FEATURE</a></li><li class="spacer"></li><li class="chapter-item expanded "><a href="../../flowcontrol/FLOWCONTROL.html"><strong aria-hidden="true">17.</strong> FLOWCONTROL</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../flowcontrol/for/FOR.html"><strong aria-hidden="true">17.1.</strong> FOR</a></li><li class="chapter-item "><a href="../../flowcontrol/loop/LOOP.html"><strong aria-hidden="true">17.2.</strong> LOOP</a></li><li class="chapter-item "><a href="../../flowcontrol/while/WHILE.html"><strong aria-hidden="true">17.3.</strong> WHILE</a></li><li class="chapter-item "><a href="../../flowcontrol/match/MATCH.html"><strong aria-hidden="true">17.4.</strong> MATCH</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><a href="../../functional-programming/FUNC-PROG.html"><strong aria-hidden="true">18.</strong> FUNCTION PROGRAMMING</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../functional-programming/closure/CLOSURE.html"><strong aria-hidden="true">18.1.</strong> CLOSURE</a></li><li class="chapter-item "><a href="../../functional-programming/function/FUNCTION.html"><strong aria-hidden="true">18.2.</strong> FUNCTION</a></li><li class="chapter-item "><a href="../../functional-programming/lazy/LAZY.html"><strong aria-hidden="true">18.3.</strong> LAZY</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><a href="../../libc/LIBC.html"><strong aria-hidden="true">19.</strong> LIBC</a></li><li class="spacer"></li><li class="chapter-item expanded "><a href="../../network/NETWORK.html"><strong aria-hidden="true">20.</strong> NETWORK</a></li><li class="spacer"></li><li class="chapter-item expanded "><a href="../../oop/OOP.html"><strong aria-hidden="true">21.</strong> OOP</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../oop/trait/TRAIT.html"><strong aria-hidden="true">21.1.</strong> TRAIT</a></li></ol></li><li class="chapter-item expanded "><a href="../../oop/design_patterns/DESIGN_PATTERN.html"><strong aria-hidden="true">22.</strong> DESIGN_PATTERN</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../oop/design_patterns/behavioral/state-pattern/STATE_PATTERN.html"><strong aria-hidden="true">22.1.</strong> STATE_PATTERN</a></li><li class="chapter-item "><a href="../../oop/design_patterns/behavioral/BEHAVIOARAL.html"><strong aria-hidden="true">22.2.</strong> BEHAVIOARAL</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../oop/design_patterns/behavioral/lpxxn/lpxxn-behavioral.html"><strong aria-hidden="true">22.2.1.</strong> LPXXN</a></li><li class="chapter-item "><a href="../../oop/design_patterns/behavioral/process/PROCESS.html"><strong aria-hidden="true">22.2.2.</strong> PROCESS</a></li></ol></li><li class="chapter-item "><a href="../../oop/design_patterns/creational/CREATIONAL.html"><strong aria-hidden="true">22.3.</strong> CREATIONAL</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../oop/design_patterns/creational/lpxxn/lpxxn-creational.html"><strong aria-hidden="true">22.3.1.</strong> LPXXN</a></li></ol></li><li class="chapter-item "><a href="../../oop/design_patterns/structural/STRUCTURAL.html"><strong aria-hidden="true">22.4.</strong> STRUCTRUAL</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../oop/design_patterns/structural/lpxxn/lpxxn-structural.html"><strong aria-hidden="true">22.4.1.</strong> LPXXN</a></li><li class="spacer"></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../trait/TRAIT.html"><strong aria-hidden="true">23.</strong> TRAIT</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../trait/associate-type-or-trait/ASSOCIATE.html"><strong aria-hidden="true">23.1.</strong> ASSOCIATE</a></li><li class="chapter-item "><a href="../../trait/inheritance/INHERITANCE.html"><strong aria-hidden="true">23.2.</strong> INHERITANCE</a></li><li class="chapter-item "><a href="../../trait/built-in/BUILT_IN.html"><strong aria-hidden="true">23.3.</strong> BUILT-IN</a></li><li class="chapter-item "><a href="../../trait/shared-behavior/SHARED_BEHAVIOR.html"><strong aria-hidden="true">23.4.</strong> SHARED_BEHAVIOR</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../trait/shared-behavior/builtin-trait/BUILTIN-TRAIT.html"><strong aria-hidden="true">23.4.1.</strong> BUILTIN-TRAIT</a></li><li class="chapter-item "><a href="../../trait/shared-behavior/safe-object/SAFEOBJECT.html"><strong aria-hidden="true">23.4.2.</strong> SAFE OBJECT</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../trait/shared-behavior/safe-object/dispatchable/TRAITOBJECT.html"><strong aria-hidden="true">23.4.2.1.</strong> TRAITOBJECT</a></li></ol></li><li class="chapter-item "><a href="../../trait/shared-behavior/none-object-safe/NONE_OBJECT_SAFE.html"><strong aria-hidden="true">23.4.3.</strong> NON_OBJECT_SAFE</a></li><li class="chapter-item "><a href="../../trait/shared-behavior/aggregator/AGGRIGATOR.html"><strong aria-hidden="true">23.4.4.</strong> AGGRIGATOR</a></li></ol></li><li class="chapter-item "><a href="../../trait/shared-behavior/trait-bound/TRAIT_BOUND.html"><strong aria-hidden="true">23.5.</strong> TRAIT_BOUND</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../trait/shared-behavior/trait-bound/operator/OPERATOR.html"><strong aria-hidden="true">23.5.1.</strong> OPERATOR</a></li><li class="spacer"></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../types/M_TYPES.html"><strong aria-hidden="true">24.</strong> TYPES</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../types/generic/GENERIC.html"><strong aria-hidden="true">24.1.</strong> GENERIC</a></li><li class="chapter-item "><a href="../../types/return/RETURN.html"><strong aria-hidden="true">24.2.</strong> RETURN</a></li><li class="chapter-item "><a href="../../types/static/STATIC.html"><strong aria-hidden="true">24.3.</strong> STATIC</a></li><li class="chapter-item "><a href="../../types/wrapper/WRAPPER.html"><strong aria-hidden="true">24.4.</strong> WRAPPER</a></li><li class="chapter-item "><a href="../../types/rhs/RHS.html"><strong aria-hidden="true">24.5.</strong> RHS</a></li><li class="chapter-item "><a href="../../types/var/VAR.html"><strong aria-hidden="true">24.6.</strong> VAR</a></li><li class="chapter-item "><a href="../../types/mscal/M_SCAL.html"><strong aria-hidden="true">24.7.</strong> SCALAR</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../types/mscal/numeric/NUMERIC.html"><strong aria-hidden="true">24.7.1.</strong> NUMERIC</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../types/mscal/numeric/primitive/PRIMITIVE.html"><strong aria-hidden="true">24.7.1.1.</strong> PRIMITIVE</a></li><li class="chapter-item "><a href="../../types/mscal/numeric/num/NUM.html"><strong aria-hidden="true">24.7.1.2.</strong> NUM</a></li></ol></li><li class="chapter-item "><a href="../../types/mscal/non_numeric/NON_NUMERIC.html"><strong aria-hidden="true">24.7.2.</strong> NON_NUMERIC</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../types/mscal/non_numeric/string/STRING.html"><strong aria-hidden="true">24.7.2.1.</strong> STRING</a></li><li class="chapter-item "><a href="../../types/mscal/non_numeric/char/CHAR.html"><strong aria-hidden="true">24.7.2.2.</strong> CHAR</a></li></ol></li></ol></li><li class="chapter-item "><a href="../../types/compound/COMPOUND.html"><strong aria-hidden="true">24.8.</strong> COMPOUND</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../types/compound/array/ARRAY.html"><strong aria-hidden="true">24.8.1.</strong> ARRAY</a></li><li class="chapter-item "><a href="../../types/compound/tuple/TUPLE.html"><strong aria-hidden="true">24.8.2.</strong> TUPLE</a></li><li class="chapter-item "><a href="../../types/compound/union/UNION.html"><strong aria-hidden="true">24.8.3.</strong> UNION</a></li><li class="chapter-item "><a href="../../types/compound/struct/STRUCT.html"><strong aria-hidden="true">24.8.4.</strong> STRUCT</a></li><li class="chapter-item "><a href="../../types/compound/enum/ENUM.html"><strong aria-hidden="true">24.8.5.</strong> ENUM</a></li><li class="chapter-item "><a href="../../types/compound/option/OPTION.html"><strong aria-hidden="true">24.8.6.</strong> OPTION</a></li><li class="spacer"></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../stdmisc/STDMISC.html"><strong aria-hidden="true">25.</strong> STDMISC</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../stdmisc/rust-doc/rd-thread-channel.html"><strong aria-hidden="true">25.1.</strong> thread-channel</a></li><li class="chapter-item "><a href="../../stdmisc/rust-doc/rd-path.html"><strong aria-hidden="true">25.2.</strong> path</a></li><li class="chapter-item "><a href="../../stdmisc/rust-doc/rd-file.html"><strong aria-hidden="true">25.3.</strong> file</a></li><li class="chapter-item "><a href="../../stdmisc/rust-doc/rd-filesystem.html"><strong aria-hidden="true">25.4.</strong> filesystem</a></li><li class="chapter-item "><a href="../../stdmisc/rust-doc/rd-command-process.html"><strong aria-hidden="true">25.5.</strong> command-process</a></li><li class="chapter-item "><a href="../../stdmisc/rust-doc/rd-ffi.html"><strong aria-hidden="true">25.6.</strong> ffi</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><a href="../../thread/THREAD.html"><strong aria-hidden="true">26.</strong> THREAD</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../thread/race/RACE.html"><strong aria-hidden="true">26.1.</strong> RACE</a></li><li class="chapter-item "><a href="../../thread/rayon/RAYON.html"><strong aria-hidden="true">26.2.</strong> RAYON</a></li><li class="chapter-item "><a href="../../thread/sync/ATOMIC.html"><strong aria-hidden="true">26.3.</strong> Sync_Atomic_Mutex</a></li><li class="chapter-item "><a href="../../thread/mpsc/MPSC.html"><strong aria-hidden="true">26.4.</strong> MPSC</a></li><li class="chapter-item "><a href="../../thread/time/THREAD-TIME.html"><strong aria-hidden="true">26.5.</strong> THREAD_TIME</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><a href="../../time/TIME.html"><strong aria-hidden="true">27.</strong> TIME</a></li><li class="spacer"></li><li class="chapter-item expanded "><a href="../../tests/TESTS.html"><strong aria-hidden="true">28.</strong> TEST</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../tests/test_structures/test-structures.html"><strong aria-hidden="true">28.1.</strong> Structures</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../tests/test_structures/test_unit/test-unit.html"><strong aria-hidden="true">28.1.1.</strong> Unit</a></li><li class="chapter-item "><a href="../../tests/test_structures/test_pretty/test-pretty.html"><strong aria-hidden="true">28.1.2.</strong> Pretty</a></li><li class="chapter-item "><a href="../../tests/test_structures/test_proptest/test-proptest.html"><strong aria-hidden="true">28.1.3.</strong> Proptest</a></li><li class="chapter-item "><a href="../../tests/test_structures/test_proptest_runner/test-proptest_runner.html"><strong aria-hidden="true">28.1.4.</strong> Proptest_runner</a></li><li class="chapter-item "><a href="../../tests/test_structures/test_fixture/test-fixture.html"><strong aria-hidden="true">28.1.5.</strong> Fixture</a></li></ol></li><li class="chapter-item "><a href="../../tests/tests_samples/test-samples.html"><strong aria-hidden="true">28.2.</strong> Samples</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><a href="../../unsafe/UNSAFE.html"><strong aria-hidden="true">29.</strong> UNSAFE</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../unsafe/extern-ffi/EXTERN-FFI.html"><strong aria-hidden="true">29.1.</strong> EXTERN_FFI</a></li><li class="chapter-item "><a href="../../unsafe/safe-abstraction/SAFE_ABSTRACTION.html"><strong aria-hidden="true">29.2.</strong> SAFE_ABSTRACTION</a></li><li class="chapter-item "><a href="../../unsafe/safe-static-mut/SAFE_STATIC_MUT.html"><strong aria-hidden="true">29.3.</strong> SAFE_STATIC_MUT</a></li><li class="chapter-item "><a href="../../unsafe/unsafe-thread/THREAD_UNSAFE.html"><strong aria-hidden="true">29.4.</strong> THREAD_UNSAFE</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><a href="../../macro/MACRO.html"><strong aria-hidden="true">30.</strong> MACRO</a></li><li class="spacer"></li><li class="chapter-item expanded "><a href="../../module/MODULE.html"><strong aria-hidden="true">31.</strong> MOUDULE</a></li><li class="spacer"></li><li class="chapter-item expanded "><a href="../../memory/MEMORY.html"><strong aria-hidden="true">32.</strong> MEMORY</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../memory/allocator/ALLOCATOR.html"><strong aria-hidden="true">32.1.</strong> ALLOCATOR</a></li><li class="chapter-item "><a href="../../memory/piston/PISTON.html"><strong aria-hidden="true">32.2.</strong> PISTON</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><a href="../../idioms/IDIOMS.html"><strong aria-hidden="true">33.</strong> IDIOMS</a></li><li class="chapter-item expanded "><a href="../../grammer/GRAMMER.html"><strong aria-hidden="true">34.</strong> GRAMMER</a></li><li class="chapter-item expanded "><a href="../../brain-teaser/BRAIN_TREASER.html"><strong aria-hidden="true">35.</strong> BRAIN_TREASER</a></li><li class="chapter-item expanded "><a href="../../questions/QUESTIONS.html"><strong aria-hidden="true">36.</strong> QUESTIONS</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../questions/triplebyte/TBYTE.html"><strong aria-hidden="true">36.1.</strong> TBYTE</a></li></ol></li><li class="chapter-item expanded "><a href="../../algorithm/ALGORITHM.html"><strong aria-hidden="true">37.</strong> ALGORITHM</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Rust-All-In-One(A.R)</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/arman2develop/rust-all-in-one/tree/main/workspace" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/arman2develop/rust-all-in-one/edit/main/workspace/./workspace//pointers/smartpointer/SMARTPOINTER.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <p>[[BOX]]</p>
<p>[[RC]]</p>
<p>[[REF_CELL]]</p>
<p>[[OPS]]</p>
<p>[[COW]]</p>
<p>[[ARC]]</p>
<p>[[rd-customized-smartpointer-box]]</p>
<hr />
<h2 id="what-are-smart-pointers"><a class="header" href="#what-are-smart-pointers">What are Smart Pointers?</a></h2>
<blockquote>
<p>Smart pointers are abstract data types that act like regular pointers (variables that store memory addresses of values) in programming, coupled with additional features like destructors(drop) and overloaded operators.
They are called smart because they also have extra metadata and code associated with them that gets executed when they are created or destroyed. Being able to automatically free the underlying resource when a smart pointer goes out of scope is one of the major reasons to use smart pointers.
Much of the smartness in smart pointers comes from two traits, called the Drop trait and the Deref trait. Using the dereferencing operator on the memory address returns the location of the value from the pointer points.</p>
</blockquote>
<h2 id="use-cases"><a class="header" href="#use-cases">Use cases</a></h2>
<ul>
<li><input disabled="" type="checkbox" checked=""/>
Automatically de-allocating data and destructing objects</li>
<li><input disabled="" type="checkbox" checked=""/>
Checking data or variables that exceed their bounds</li>
<li><input disabled="" type="checkbox" checked=""/>
Reducing bugs related to the use of regular pointers</li>
<li><input disabled="" type="checkbox" checked=""/>
Preserving the efficiency of the program after de-allocating data</li>
<li><input disabled="" type="checkbox" checked=""/>
Keeping track of all memory addresses of a program’s data/objects/variables</li>
<li><input disabled="" type="checkbox" checked=""/>
Managing network connections in a program application</li>
</ul>
<h3 id="drop-mechanism"><a class="header" href="#drop-mechanism">Drop Mechanism</a></h3>
<blockquote>
<p>When we instantiate any Drop implementing value (any heap allocated type), the Rust compiler inserts drop method calls after every end of scope, after compilation. So, we don’t need to manually call drop on these instances. This kind of automatic reclamation based on scope is inspired by the RAII principle of C++.</p>
</blockquote>
<h3 id="drerf-mechanism"><a class="header" href="#drerf-mechanism">Drerf Mechanism</a></h3>
<blockquote>
<p>smart pointer types often implement the Deref trait, which allows us to use the * dereferencing operator with these types. While Deref gives you read-only access, there is also DerefMut, which can give you a mutable reference to the underlying type. Deref has the following type signature:
Enabling <em>easy access to the data</em> stored behind the smart pointers. You can use the Deref trait to <em>treat smart pointers as a reference</em>.</p>
</blockquote>
<pre><pre class="playground"><code class="language-rust edition2021">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub trait Deref {
    type Target: ?Sized;
    fn deref(&amp;self) -&gt; &amp;Self::Target;
}
<span class="boring">}
</span></code></pre></pre>
<blockquote>
<p>Deref coercion is a convenience that Rust performs on arguments to functions and methods. Deref coercion works only on types that implement the Deref trait. </p>
</blockquote>
<blockquote>
<p>Deref coercion converts such a type into a reference to another type. For example, deref coercion can convert &amp;String to &amp;str because String implements the Deref trait such that it returns &amp;str. </p>
</blockquote>
<blockquote>
<p>The number of times that Deref::deref needs to be inserted is resolved at compile time, so there is no runtime penalty for taking advantage of deref coercion!</p>
</blockquote>
<blockquote>
<p>Similar to how you use the Deref trait to override the * operator on immutable references, you can use the DerefMut trait to override the * operator on mutable references.</p>
</blockquote>
<blockquote>
<p>Rust does deref coercion when it finds types and trait implementations in three cases:</p>
</blockquote>
<ul>
<li>From &amp;T to &amp;U when T: Deref&lt;Target=U&gt;</li>
<li>From &amp;mut T to &amp;mut U when T: DerefMut&lt;Target=U&gt;</li>
<li>From &amp;mut T to &amp;U when T: Deref&lt;Target=U&gt;</li>
<li>The third case is trickier: Rust will also coerce a mutable reference to an immutable one. But the reverse is not possible</li>
</ul>
<blockquote>
<p>the Drop trait is almost always used when implementing a smart pointer. For example, when a Box<T> is dropped it will deallocate the space on the heap that the box points to.</p>
</blockquote>
<blockquote>
<p><em>Note that we didn’t need to call the+ drop method explicitly.</em></p>
</blockquote>
<blockquote>
<p>State is a trait, we call the as_ref method on the Option because we want a reference to the value inside the Option rather than ownership of the value. 
Because state is an <code>Option&lt;Box&lt;dyn State&gt;&gt;</code></p>
</blockquote>
<pre><pre class="playground"><code class="language-rust no_run compile_fail edition2021">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>  impl Post {
    // --snip--
    pub fn content(&amp;self) -&gt; &amp;str {
        self.state.as_ref().unwrap().content(self)
    }
    // --snip--
<span class="boring">}
</span></code></pre></pre>
<blockquote>
<p>At this point, when we call content on the <code>&amp;Box&lt;dyn State&gt;</code>, deref coercion will take effect on the &amp; and the Box so the content method will ultimately be called on the type that implements the State trait.</p>
</blockquote>
<blockquote>
<p>If defines a single method called Deref that takes self by reference and returns a immutable reference to the underlying type. This combined with the deref coercion feature of Rust, reduces a lot of code that you have to write. Deref coercion is when a type automatically gets converted from one type of reference to some other reference.</p>
</blockquote>
<h2 id="comparistions-of-smart-pointers"><a class="header" href="#comparistions-of-smart-pointers">Comparistions of Smart pointers</a></h2>
<p><img src="../../rust/assets/images/Ownership.jpg" alt="Ownership" /></p>
<hr />
<h3 id="pointer-definations--comparision"><a class="header" href="#pointer-definations--comparision">Pointer Definations &amp; Comparision</a></h3>
<blockquote>
<p>Rc<T> enables multiple owners of the same data; whenever somebody takes a new reference, and decrements it when someone releases a reference. When the counter hits zero, the value is dropped.Rc<T> does not allow mutation. To permit that, we need to wrap our wrapper. Rc&lt;RefCell<T>&gt; is a type that can be used to perform interior mutability . An object that has interior mutability presents an immutable façade while internal values are being modified.</p>
</blockquote>
<blockquote>
<p>Rc<T> is not thread-safe. In multithreaded code safety, it’s much better to replace Rc<T> with Arc<T> and Rc&lt;RefCell<T>&gt; with Arc&lt;Mutex<T>&gt;.</p>
</blockquote>
<blockquote>
<p>Box<T> The ownership semantics with Box type depends on the wrapped type. If the underlying type is Copy, the Box instance becomes copy, otherwise it moves by default.allows immutable or mutable borrows checked at compile time; Rc<T> allows only immutable borrows checked at compile time; RefCell<T> allows immutable or mutable borrows checked at runtime.</p>
</blockquote>
<blockquote>
<p>Because RefCell<T> allows mutable borrows checked at runtime, you can mutate the value inside the RefCell<T> even when the RefCell<T> is immutable.</p>
</blockquote>
<blockquote>
<p>Cell<T>: This gives us internal mutability for types that implement the Copy trait. In other words, we gain the possibility to get multiple mutable references to something.</p>
</blockquote>
<blockquote>
<p>RefCell<T>: This gives us internal mutability for types, without requiring the Copy trait. It uses runtime locking for safety. Lets us have many immutable borrows or one mutable borrow at any point in time.Box<T> and RefCell<T> have single owners. For types that implement Copy, the get method retrieves the current interior value. For types that implement Default, the take method replaces the current interior value with Default::default() and returns the replaced value.For all types, the replace method replaces the current interior value and returns the replaced value and the into_inner method consumes the Cell<T> and returns the interior value. Additionally, the set method replaces the interior value, dropping the replaced value.</p>
</blockquote>
<p><img src="../../rust/assets/images/smart-pointer-1.JPG" alt="Smart-Pointer-1" /></p>
<p><img src="../../rust/assets/images/smart-pointer-2.JPG" alt="Smart-Pointer-2" /></p>
<p><img src="../../rust/assets/images/smart-pointer-3.JPG" alt="Smart-Pointer-3" /></p>
<h3 id="comparison-of-inherited-and-interiormutability"><a class="header" href="#comparison-of-inherited-and-interiormutability">Comparison of inherited and interior/mutability</a></h3>
<blockquote>
<p>We say that Cell<T> and RefCell<T> provide ‘interior mutability’, in contrast with typical Rust types that exhibit ‘inherited mutability’ the pattern uses unsafe code inside a data structure to bend Rust’s usual rules that govern mutation and borrowing.</p>
</blockquote>
<blockquote>
<p>Similar to Rc<T>, RefCell<T> is only for use in [[single_threaded]] scenarios.The Cell and RefCell types are not thread safe. This simply means that Rust won’t allow you to share these types in multiple threads.</p>
</blockquote>
<blockquote>
<p>There’s also Mutex<T>, which offers interior mutability that’s safe to use across threads [[multi_tread]] scenarios.</p>
</blockquote>
<blockquote>
<p>Neither Cell<T> nor RefCell<T> are thread safe (they do not implement #Sync)
Standard library has other types that provide interior mutability:</p>
</blockquote>
<blockquote>
<blockquote>
<p>Such as Cell<T>, which is similar except that instead of giving references to the inner value, the value is copied in and out of the Cell<T>.</p>
</blockquote>
</blockquote>
<h2 id="special-types"><a class="header" href="#special-types">Special Types</a></h2>
<p><a href="https://doc.rust-lang.org/nightly/reference/special-types-and-traits.html#special-types-and-traits">Special Traits&amp;Types</a></p>
<h2 id="glossary"><a class="header" href="#glossary">Glossary</a></h2>
<ul>
<li>[[Arc]] stands for #atomic_reference_counter.</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../pointers/POINTERS.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../../pointers/smartpointer/compiletime/shared_owner_locally/rc/RC.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../pointers/POINTERS.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../../pointers/smartpointer/compiletime/shared_owner_locally/rc/RC.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_line_numbers = true;
        </script>
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../../ace.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../editor.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../mode-rust.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../theme-dawn.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../theme-tomorrow_night.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
